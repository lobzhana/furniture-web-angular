<ng-container *ngFor="let star of state">
  <ng-container *ngIf="star.full"
    ><ng-container *ngTemplateOutlet="fullStar"></ng-container
  ></ng-container>
  <ng-container *ngIf="star.half">
    <ng-container *ngTemplateOutlet="halfStar"></ng-container>
  </ng-container>
  <ng-container *ngIf="star.empty">
    <ng-container *ngTemplateOutlet="emptyStar"></ng-container>
  </ng-container>
</ng-container>

<ng-template #fullStar>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    [attr.width]="width"
    [attr.height]="height"
    viewBox="0 0 14.848 14.159"
  >
    <g>
      <path
        fill="#ffdc64"
        d="M14.5 16.992l-4.809-.446-1.914-4.436a.385.385 0 0 0-.708 0l-1.91 4.436-4.809.446a.385.385 0 0 0-.219.673l3.629 3.188-1.06 4.711a.385.385 0 0 0 .573.416l4.153-2.466 4.153 2.466a.385.385 0 0 0 .573-.416l-1.062-4.712 3.629-3.188a.385.385 0 0 0-.219-.672z"
        transform="translate(0 -11.877)"
      />
      <path
        fill="#ffc850"
        d="M7.777 12.11a.385.385 0 0 0-.708 0l-1.91 4.436-4.809.446a.385.385 0 0 0-.219.673l3.629 3.188-1.06 4.711a.385.385 0 0 0 .573.416l.927-.55A17 17 0 0 1 8.722 14.3z"
        transform="translate(0 -11.877)"
      />
    </g>
  </svg>
</ng-template>

<ng-template #emptyStar>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    [attr.width]="width + 3"
    [attr.height]="height + 2"
    viewBox="0 0 17.241 16.441"
  >
    <g>
      <path
        fill="#f4f5f7"
        d="M16.834 17.816L11.25 17.3l-2.219-5.153a.447.447 0 0 0-.822 0L5.991 17.3l-5.584.518a.447.447 0 0 0-.254.782l4.213 3.7-1.233 5.471a.447.447 0 0 0 .665.483L8.62 25.39l4.822 2.863a.448.448 0 0 0 .665-.483l-1.232-5.47 4.213-3.7a.447.447 0 0 0-.254-.784z"
        transform="translate(0 -11.877)"
      />
    </g>
  </svg>
</ng-template>

<ng-template #halfStar>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    [attr.width]="width"
    [attr.height]="height"
    viewBox="0 0 14.848 14.159"
  >
    <g>
      <path
        fill="#f4f5f7"
        d="M14.5 16.992l-4.809-.446-1.914-4.436a.385.385 0 0 0-.708 0l-1.91 4.436-4.809.446a.385.385 0 0 0-.219.673l3.629 3.188-1.06 4.711a.385.385 0 0 0 .573.416l4.153-2.466 4.153 2.466a.385.385 0 0 0 .573-.416l-1.062-4.712 3.629-3.188a.385.385 0 0 0-.219-.672z"
        transform="translate(0 -11.877)"
      />
      <path
        fill="#ffc850"
        d="M7.588 11.942c-.124-.041-.385-.147-.519.163l-1.91 4.436-4.809.446a.385.385 0 0 0-.219.673l3.629 3.188L2.7 25.56a.385.385 0 0 0 .573.416l4.194-2.485c.126-5.281.014-6.35.121-11.549z"
        transform="translate(0 -11.872)"
      />
    </g>
  </svg>
</ng-template>
